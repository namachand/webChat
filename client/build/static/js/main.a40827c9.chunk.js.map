{"version":3,"sources":["components/front/header.js","components/front/messagingPortion.js","components/videocall/js/Emitter.js","components/videocall/js/navigator.js","components/videocall/js/socket.js","components/videocall/js/PeerConnection.js","components/videocall/js/MainWindow.js","components/videocall/js/videocallScreen.js","components/videocall/js/callingRequest.js","components/front/layout.js","components/videocall/js/videoCallPublic.js","components/front/public.js","components/mainComponent.js","App.js","serviceWorker.js","index.js","components/images/support.png","components/images/notebook.jpg"],"names":["FrontHeader","props","leaveRoom","bind","searchforStranger","sex","this","document","getElementById","setAttribute","removeAttribute","maindis","disconnect","div","createElement","disconnectText","innerText","style","display","justifyContent","fontSize","color","textShadow","appendChild","console","log","socket","room","opponent","emit","remove","mainMess","mainDiv","innerHTML","imag","src","image","marginTop","height","width","opacity","connect","connectText","marginBottom","fontStyle","socketid","className","id","type","onClick","endCall","React","Component","Messaging","SendMessage","handlePress","handleEnter","event","preventDefault","sender","message","value","which","CardFooter","backgroundColor","boxShadow","Form","onSubmit","Row","Col","xs","md","FormGroup","Input","name","onInput","onKeyDown","Button","Emitter","events","args","forEach","fn","push","_","isFunction","listeners","index","findIndex","_fn","splice","Navigator","navigator","mediaDevices","getUserMedia","video","audio","then","stream","catch","err","DOMException","alert","on","len","arguments","length","track","state","enabled","set","getTracks","stop","io","PC_CONFIG","iceServers","urls","PeerConnection","friendID","myID","pc","RTCPeerConnection","onicecandidate","to","candidate","ontrack","streams","navigateDevice","isCaller","config","addTrack","createOffer","start","isStarter","close","off","getDescription","createAnswer","desc","setLocalDescription","sdp","rtcSdp","RTCSessionDescription","setRemoteDescription","iceCandidate","RTCIceCandidate","addIceCandidate","MainWindow","startCall","clientId","callWithVideo","getButtonClass","icon","classnames","disable","VideocallScreen","peerSrc","localSrc","mediaDevice","status","peerVideo","useRef","localVideo","useState","setVideo","setAudio","useEffect","current","srcObject","toggle","toggleMediaDevice","deviceType","ref","autoPlay","key","CallingRequest","callFrom","rejectCall","acceptWithVideo","Layout","initSocket","openSocket","makeNoTypingState","data","setState","gender","mess","timer","setTimeout","random","clearTimeout","out","scrollHeight","clientHeight","scrollTop","isScrolledToBottom","newElement","anotherElement","next","border","padding","minWidth","maxWidth","wordBreak","borderRadius","cssFloat","clear","from","callModal","callWindow","startCallHandler","endCallHandler","rejectCallHandler","window","performance","navigation","info","location","href","newState","isEmpty","VideoCallPublic","Public","callfrom","Main","setGender","useLocation","background","exact","path","children","submitMale","buttonValue","submitFemale","submitPublic","size","frontLappyImage","backgroundSize","App","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","error","ReactDOM","render","URL","process","origin","addEventListener","fetch","response","contentType","headers","get","indexOf","ready","unregister","reload","checkValidServiceWorker","module","exports"],"mappings":"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","file":"static/js/main.a40827c9.chunk.js","sourcesContent":["import React from 'react';\r\nimport '../../css/style.css'\r\nimport image from '../images/support.png';\r\n\r\nclass FrontHeader extends React.Component {\r\nconstructor(props){\r\n  super(props);\r\n  this.leaveRoom = this.leaveRoom.bind(this);\r\n  this.searchforStranger = this.searchforStranger.bind(this);\r\n}\r\n\r\nleaveRoom(){\r\n  //text and button disable\r\n  var sex=this.props.sex;\r\n  var text=document.getElementById('comment');\r\n  text.setAttribute('disabled',true);\r\n  var buton=document.getElementById('btn1');\r\n  buton.setAttribute('disabled',true);\r\n\r\n  //cancel and videocall disable\r\n  var cancel=document.getElementById('leave');\r\n  cancel.setAttribute('disabled', true);\r\n  if(sex!='public'){\r\n    var video=document.getElementById('video');\r\n    video.setAttribute('disabled',true);\r\n  }\r\n\r\n  //search enable\r\n  var search=document.getElementById('search');\r\n  search.removeAttribute('disabled',true);\r\n\r\n  //this is for 'the user is disconnect..'\r\n  var maindis=document.getElementById('mainMess');\r\n  var disconnect=document.getElementById('strangerDisconnect');\r\n  var div=document.createElement('div');\r\n  div.setAttribute('id','disconnectTextWarn');\r\n  var disconnectText=document.createElement('P');\r\n  disconnectText.innerText='You are disconnected!';\r\n  div.style.display='flex';\r\n  div.style.justifyContent='center';\r\n  disconnectText.style.fontSize='x-large';\r\n  disconnectText.style.color='white';\r\n  disconnectText.style.textShadow='2px 2px 4px #000000'\r\n  div.appendChild(disconnectText);\r\n  disconnect.appendChild(div);\r\n  maindis.appendChild(disconnect);\r\n\r\n  console.log('inside leave room');\r\n  const socket=this.props.socket;\r\n  const room=this.props.room;\r\n  const opponent=this.props.opponent;\r\n  socket.emit('leaveroom',{room,opponent})\r\n}\r\n\r\nsearchforStranger(){\r\n  //search disable\r\n  var search=document.getElementById('search');\r\n  search.setAttribute('disabled',true);\r\n\r\n  //removal of 'the user is disconnect'\r\n  document.getElementById('disconnectTextWarn').remove();\r\n\r\n  //this is for the image on the div\r\n  var mainMess=document.getElementById('mainMess');\r\n  var mainDiv=document.getElementById('scrollable');\r\n  mainDiv.innerHTML='';\r\n  var div=document.createElement('div');\r\n  div.setAttribute('id','forImage');\r\n  var imag=document.createElement('img');\r\n  imag.src=image;\r\n  div.style.display='flex';\r\n  div.style.marginTop='20%';\r\n  div.style.justifyContent='center';\r\n  imag.style.height='200px';\r\n  imag.style.width='200px';\r\n  imag.style.opacity='0.8';\r\n  div.appendChild(imag);\r\n  mainDiv.appendChild(div);\r\n\r\n  //this is for the text on the div\r\n  var connect=document.createElement('div');\r\n  connect.setAttribute('id','connecting');\r\n  var connectText=document.createElement('P');\r\n  connectText.setAttribute('id','connectText');\r\n  connectText.innerText='Connecting to Stranger..';\r\n  connect.style.display='flex';\r\n  connectText.style.marginBottom='100px';\r\n  connect.style.justifyContent='center';\r\n  connectText.style.fontSize='x-large';\r\n  connectText.style.color='white';\r\n  connectText.style.fontStyle='italic'\r\n  connectText.style.textShadow='2px 2px 4px #000000'\r\n  connect.appendChild(connectText);\r\n  mainMess.appendChild(connect);\r\n\r\n  const socket=this.props.socket;\r\n  const socketid=this.props.socketid;\r\n  const sex=this.props.sex\r\n  socket.emit('mydetails',{socketid,sex});    \r\n\r\n}\r\nrender() {\r\n      return (\r\n\r\n      <div className=\" container row \">    \r\n          <div className=\"col-2 col-md-1\" id='parent'>\r\n              <button type=\"button\" className=\" btn-action fa fa-times fa-2x ml-3 font\" id='leave' onClick={()=>{this.leaveRoom()\r\n              this.props.endCall(true) \r\n            }}></button>\r\n          </div>\r\n          <div className=\"col-3 offset-1 col-md-1\">\r\n              <button type=\"button\" className=\"btn-action fa fa-play fa-2x ml-5 pl-2 font\" id='search' onClick={this.searchforStranger}></button>\r\n          </div>\r\n          <div className=\"col-5 col-md-5\">    \r\n          </div>\r\n       </div>           \r\n      );\r\n    }\r\n}\r\nexport default FrontHeader;","import React from 'react';\r\nimport {Row, Col,Button, Form, FormGroup, Input, CardFooter} from 'reactstrap';\r\nimport '../../css/style.css';\r\nimport image from '../images/support.png';\r\nclass Messaging extends React.Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.SendMessage = this.SendMessage.bind(this);   \r\n    this.handlePress = this.handlePress.bind(this);\r\n    this.handleEnter = this.handleEnter.bind(this);\r\n  }\r\nSendMessage(event){\r\n    const {socket}=this.props;\r\n    const opponent=this.props.opponent;\r\n    event.preventDefault();\r\n    var sender=document.getElementById('comment');\r\n    var message=sender.value;\r\n    console.log(message);\r\n    socket.emit('messages',{message,opponent});\r\n    sender.value='';\r\n}\r\n\r\nhandlePress(event){\r\n  const {socket}=this.props;\r\n  event.preventDefault();\r\n  var mess=\"stranger is typing...\";\r\n  socket.emit('typing',mess);\r\n}\r\n\r\nhandleEnter(event){\r\n  if(event.which===13)\r\n  {   \r\n    const {socket}=this.props;\r\n     const opponent=this.props.opponent;\r\n      event.preventDefault();\r\n      var sender=document.getElementById('comment');\r\n      var message=sender.value;\r\n      console.log(message);\r\n      if(!(sender.value=='')){\r\n        socket.emit('messages',{message,opponent});\r\n      }\r\n      sender.value='';\r\n      return false;\r\n  }           \r\n}\r\nrender(){\r\n  return (\r\n    <div>\r\n   <div id='containMessageBox' className='row '> \r\n    <div className='col-md-12 mainMessage' id='mainMess'>\r\n      <div id=\"scrollable\" className='ml-3'>\r\n        <div id='forImage'>\r\n          <img src={image} id='image'/>\r\n        </div>\r\n      </div>  \r\n      \r\n      <div id='strangerDisconnect'>\r\n      </div>  \r\n      \r\n      <div  id='connecting'>\r\n      <p id='connectText'>Connecting to the stranger...</p>\r\n      </div>\r\n      <div id=\"feedback\"></div>\r\n    </div>\r\n    <CardFooter className='col-md-12 ' id='cardFoot' style={{\r\n        height:'11vh',\r\n        backgroundColor:'rgb(240,240,240)',\r\n        boxShadow:'0px 1px 1px grey',\r\n    }}>\r\n      <div className='col-md-12'>\r\n    <Form onSubmit={this.SendMessage}>\r\n        <Row>\r\n            <Col xs='9' md=\"11\">\r\n            <FormGroup>\r\n            <Input type=\"textarea\" name=\"textarea\" id=\"comment\" onInput={this.handlePress} onKeyDown={this.handleEnter} />\r\n            </FormGroup>\r\n            </Col>\r\n            <Col xs='3' md=\"1\">\r\n            <Button type=\"submit\" id=\"btn1\" >Send</Button>\r\n            </Col>\r\n        </Row>\r\n    </Form>\r\n    </div>\r\n    </CardFooter>  \r\n    </div>  \r\n    </div>       \r\n      );\r\n    }\r\n  }\r\n  \r\nexport default Messaging; ","import _ from 'lodash';\n\nclass Emitter {\n  constructor() {\n    this.events = {};\n  }\n\n  emit(event, ...args) {\n    if (this.events[event]) {\n      this.events[event].forEach(fn => fn(...args));\n    }\n    return this;\n  }\n\n  on(event, fn) {\n    if (this.events[event]) this.events[event].push(fn);\n    else this.events[event] = [fn];\n    return this;\n  }\n\n  off(event, fn) {\n    if (event && _.isFunction(fn)) {\n      const listeners = this.events[event];\n      const index = listeners.findIndex(_fn => _fn === fn);\n      listeners.splice(index, 1);\n    } else this.events[event] = [];\n    return this;\n  }\n}\n\nexport default Emitter;\n","import _ from 'lodash';\nimport Emitter from './Emitter';\n\nclass Navigator extends Emitter {\n \n  start() {\n    console.log(\"media device activated\");\n    const constraints = {\n      video: true,\n      audio: true\n    };\n\n    navigator.mediaDevices\n      .getUserMedia(constraints)\n      .then((stream) => {\n        this.stream = stream;\n        this.emit('stream', stream);\n      })\n      .catch((err) => {\n        if (err instanceof DOMException) {\n          alert('Cannot open webcam and/or microphone');\n        } else {\n          console.log(err);\n        }\n      });\n\n    return this;\n  }\n\n  /**\n   * \n   * @param {String} type \n   * @param {Boolean} [on]\n   */\n  toggle(type, on) {\n    const len = arguments.length;\n    if (this.stream) {\n      this.stream[`get${type}Tracks`]().forEach((track) => {\n        const state = len === 2 ? on : !track.enabled;\n        _.set(track, 'enabled', state);\n      });\n    }\n    return this;\n  }\n\n  stop() {\n    if (this.stream) {\n      this.stream.getTracks().forEach(track => track.stop());\n    }\n    return this;\n  }\n}\n\nexport default Navigator;\n","/* global SOCKET_HOST */\nimport io from 'socket.io-client';\n\nconst socket = io(\"/\");\nexport default socket;\n","import Navigator from './navigator';\nimport Emitter from './Emitter';\nimport socket from './socket';\n\nconst PC_CONFIG = { iceServers: [{ urls: ['stun:stun.l.google.com:19302'] }] };\nclass PeerConnection extends Emitter {\n  /**\n\n     * @param {String} friendID\n     */\n  constructor(friendID,myID) {\n    super();\n    console.log(\"peer connection\");\n    this.pc = new RTCPeerConnection(PC_CONFIG);\n    this.pc.onicecandidate =(event)=>{\n    console.log(\"onicecandidate added\"); \n    socket.emit('call', {\n      to: this.friendID,\n      candidate: event.candidate,\n      id:this.myID\n    });\n    } \n    this.pc.ontrack = event => this.emit('peerStream', event.streams[0]);\n    this.navigateDevice = new Navigator();\n    this.friendID=friendID;\n    this.myID=myID;\n  }\n  /**\n   * \n   * @param {Boolean} isCaller\n   * @param {Object} config \n   */\n  start(isCaller, config) {\n    this.navigateDevice\n      .on('stream', (stream) => {\n        console.log(\"adding tracks\");\n        stream.getTracks().forEach((track) => {\n          this.pc.addTrack(track, stream);\n        })\n        this.emit('localStream', stream);\n        if (isCaller) \n        {\n          console.log(\"request sent\");\n          socket.emit('request', { to: this.friendID,id:this.myID});\n        }\n          else {\n           console.log(\"create offer start\");\n            this.createOffer();\n          }\n          })\n      .start(config);\n    return this;\n  }\n\n  /**\n   * \n   * @param {Boolean} isStarter\n   */\n  stop(isStarter) {\n    if (isStarter) {\n      socket.emit('end', { to: this.friendID });\n    }\n    this.navigateDevice.stop();\n    this.pc.close();\n    this.pc = null;\n    this.off();\n    return this;\n  }\n\n  createOffer() {\n    console.log(\"create offer\");\n    this.pc.createOffer()\n      .then(this.getDescription.bind(this))\n      .catch(err => console.log(err));\n    return this;\n  }\n\n  createAnswer() {\n    console.log(\"creating answer\");\n    this.pc.createAnswer()\n      .then(this.getDescription.bind(this))\n      .catch(err => console.log(err));\n    return this;\n  }\n\n  getDescription(desc) {\n    console.log(\"set local description\");\n    this.pc.setLocalDescription(desc);\n    console.log(this.friendID);\n    socket.emit('call', { to: this.friendID, sdp: desc, id:this.myID });\n    return this;\n  }\n\n  /**\n   * @param {Object} sdp \n   */\n  setRemoteDescription(sdp) {\n    console.log(\"remote description set\");\n    const rtcSdp = new RTCSessionDescription(sdp);\n    this.pc.setRemoteDescription(rtcSdp);\n    return this;\n  }\n\n  /**\n   * @param {Object} candidate \n   */\n  addIceCandidate(candidate) {\n    if (candidate) {\n      console.log(\"addicecandidate added\");\n      const iceCandidate = new RTCIceCandidate(candidate);\n      this.pc.addIceCandidate(iceCandidate);\n    }\n    return this;\n  }\n}\n\nexport default PeerConnection;\n","import React from 'react';\nfunction MainWindow({ startCall, clientId,opponent}) {\n  /**\n   * Start the call with or without video\n   * @param {Boolean} video\n   */\n  const callWithVideo = (video,friendID,myID) => {\n    const config = { audio: true, video };\n    return () => {\n      console.log('i m returning');\n      friendID && startCall(true, friendID, config,myID)};  \n  };\n  \n  return (\n    <div className=\" main-window\">\n        <div className='callVideoButt ' >\n          <button\n            type=\"button\"\n            className=\" font btn-action fa fa-video-camera fa-2x\"\n            onClick={callWithVideo(true,opponent,clientId)}\n            id='video'\n          >\n          </button>\n        </div>\n        \n      </div>       \n    \n  );\n}\n\nexport default MainWindow;\n","import React, { useState, useEffect, useRef } from 'react';\nimport classnames from 'classnames';\n\nconst getButtonClass = (icon, enabled) => classnames(`btn-action fa ${icon}`, { disable: !enabled });\n\nfunction VideocallScreen({ peerSrc, localSrc, config, mediaDevice, status, endCall ,sex}) {\n  const peerVideo = useRef(null);\n  const localVideo = useRef(null);\n  const [video, setVideo] = useState(config.video);\n  const [audio, setAudio] = useState(config.audio);\n\n  useEffect(() => {\n    console.log('i am here peer');\n    if(!peerSrc){\n      var peervideo=document.getElementById('peerVideo');\n      peervideo.style.backgroundColor='rgb(192,192,192,0.3)';\n    }\n    if (peerVideo.current && peerSrc) \n    {\n    console.log(peerVideo.current);\n    console.log('peer true');\n    peerVideo.current.srcObject = peerSrc;\n    }\n    if (localVideo.current && localSrc) \n    {\n      console.log(localVideo.current);\n      console.log('peeer true');\n      localVideo.current.srcObject = localSrc;\n    }\n    });\n\n  useEffect(() => {\n    if (mediaDevice) {\n      mediaDevice.toggle('Video', video);\n      mediaDevice.toggle('Audio', audio);\n    }\n  });\n\n  /**\n   * \n   * @param {String} deviceType - Type of the device eg: Video, Audio\n   */\n  const toggleMediaDevice = (deviceType) => {\n    if (deviceType === 'video') {\n      setVideo(!video);\n      mediaDevice.toggle('Video');\n    }\n    if (deviceType === 'audio') {\n      setAudio(!audio);\n      mediaDevice.toggle('Audio');\n    }\n  };\n  \n  return (\n    <div className={classnames('call-window', status)}>\n\n        <video id=\"peerVideo\" className='videocall  col-lg-4 ml-2' ref={peerVideo} autoPlay /> \n        <video id=\"localVideo\" className='videocall  col-lg-4 ml-2' ref={localVideo} autoPlay />\n\n   \n      <div className=\"video-control d-none d-md-block\" >\n        <button\n          key=\"btnVideo\"\n          type=\"button\"\n          className={getButtonClass('fa-video-camera', video)}\n          onClick={() => toggleMediaDevice('video')}\n          id='btnvideo'\n        />\n        <button\n          key=\"btnAudio\"\n          type=\"button\"\n          className={getButtonClass('fa-microphone', audio)}\n          onClick={() => toggleMediaDevice('audio')}\n          id='btnaudio'\n        />\n        <button\n          type=\"button\"\n          className=\"btn-action hangup fa fa-phone\"\n          onClick={() => endCall(true)}\n          id='btnend'\n        />\n      </div>\n      \n    </div>\n  );\n};\n\nexport default VideocallScreen;\n","import React from 'react';\nimport classnames from 'classnames';\n\nfunction CallingRequest({ status, callFrom, startCall, rejectCall }) {\n  const acceptWithVideo = (video) => {\n    const config = { audio: true, video };\n    return () => startCall(false, callFrom, config);\n};\nreturn (\n    <div className={classnames('call-modal', status)}>  \n      <button\n        type=\"button\"\n        className=\"btn-action fa fa-video-camera\"\n        onClick={acceptWithVideo(true)}\n      />\n      <button\n        type=\"button\"\n        className=\"btn-action hangup fa fa-phone\"\n        onClick={rejectCall}\n      />\n    </div>\n);\n}\n\nexport default CallingRequest;\n","import React from 'react'\r\nimport openSocket from 'socket.io-client';\r\nimport FrontHeader from './header';\r\nimport Messaging from './messagingPortion';\r\nimport '../videocall/css/main-window.css';\r\nimport '../videocall/css/videocallScreen.css';\r\nimport '../videocall/css/callingRequest.css'\r\nimport _ from 'lodash';\r\nimport '../../css/style.css';\r\nimport '../../css/forMobile.css';\r\nimport PeerConnection from '../videocall/js/PeerConnection';\r\nimport MainWindow from '../videocall/js/MainWindow';\r\nimport VideocallScreen from '../videocall/js/videocallScreen';\r\nimport CallingRequest from '../videocall/js/callingRequest';\r\n\r\nclass Layout extends React.Component {\r\n    constructor(props){\r\n    super(props);\r\n    this.state={\r\n      socket:null,\r\n      opponent:'abc',\r\n      room:'',\r\n      socketid:'',\r\n      sex:'',\r\n      callWindow: '',\r\n      callModal: '',\r\n      callFrom: '',\r\n      localSrc: null,\r\n      peerSrc: null,\r\n      message:'message'\r\n    };\r\n    this.pc = {};\r\n    this.config = null;\r\n    this.startCallHandler = this.startCall.bind(this);\r\n    this.endCallHandler = this.endCall.bind(this);\r\n    this.rejectCallHandler = this.rejectCall.bind(this);\r\n    }\r\n    componentDidMount(){\r\n        this.initSocket();\r\n        if(window.performance){\r\n          console.log('here window is working');\r\n        }\r\n        if (performance.navigation.type == 1) {\r\n          console.info( \"This page is reloaded\" );\r\n          window.location.href='/'\r\n        } else {\r\n          console.info( \"This page is not reloaded\");\r\n      }\r\n    }\r\n    \r\n    initSocket=()=>{\r\n      const socket=openSocket(\"/\");\r\n      \r\n      var cancel=document.getElementById('leave');\r\n      cancel.setAttribute('disabled', true);\r\n      \r\n      var search=document.getElementById('search');\r\n      search.setAttribute('disabled',true);\r\n      \r\n      var video=document.getElementById('video');\r\n      video.setAttribute('disabled',true);\r\n\r\n      socket.on('connect',()=>{\r\n\r\n      var text=document.getElementById('comment');\r\n      text.setAttribute('disabled',true);\r\n      var buton=document.getElementById('btn1');\r\n      buton.setAttribute('disabled',true);\r\n\r\n      \r\n        console.log(\"connection made\");\r\n        socket.on('socketid',(data)=>{\r\n        console.log(\"myid\");\r\n        console.log(data);\r\n        this.setState({socketid:data});\r\n        this.setState({sex:this.props.gender});\r\n        const socketid=this.state.socketid;\r\n        const sex=this.state.sex\r\n        socket.emit('mydetails',{socketid,sex});    \r\n    });\r\n    socket.on('opponentdetails',(data)=>{\r\n        this.setState({opponent:data});\r\n        console.log(this.state.opponent);\r\n    });\r\n        socket.on('roomid',(data)=>{\r\n          var text=document.getElementById('comment');\r\n          text.removeAttribute('disabled',true);\r\n         \r\n          var buton=document.getElementById('btn1');\r\n          buton.removeAttribute('disabled',true);\r\n\r\n          var cancel=document.getElementById('leave');\r\n          cancel.removeAttribute('disabled', true);\r\n          \r\n          // var search=document.getElementById('search');\r\n          // search.removeAttribute('disabled',true);\r\n          \r\n          var video=document.getElementById('video');\r\n          video.removeAttribute('disabled',true);\r\n          \r\n          document.getElementById('forImage').remove();\r\n          document.getElementById('connectText').remove();\r\n          this.setState({room:data});\r\n          var opponent=this.state.opponent;\r\n          const room=this.state.room;\r\n          socket.emit('room',{room,opponent});\r\n        });\r\n       \r\n\r\n        socket.on('typing',function(mess){\r\n          let timer = setTimeout(makeNoTypingState, 1000);\r\n          var feedback=document.getElementById('feedback');\r\n          var random=mess;\r\n            feedback.innerHTML='<p><em>'+random+'<p><em>';\r\n            clearTimeout(timer);\r\n            timer = setTimeout(makeNoTypingState, 500);\r\n        });\r\n        function makeNoTypingState() {\r\n          var feedback=document.getElementById('feedback');\r\n          feedback.innerHTML = \"\";\r\n         }  \r\n\r\n        socket.on('receiverMessage', (data)=>{\r\n        var out = document.getElementById(\"scrollable\");\r\n          console.log(data.message);\r\n          console.log(data.opponent);\r\n          //for left right combination\r\n          if(data.opponent==this.state.socketid){\r\n          console.log('inside',this.state.socketid);\r\n          console.log(out.scrollHeight,out.clientHeight,out.scrollTop);\r\n          var isScrolledToBottom = out.scrollHeight - out.clientHeight <= out.scrollTop + 1;\r\n          console.log(out.scrollHeight - out.clientHeight,  out.scrollTop + 1);\r\n          var newElement = document.createElement(\"div\");\r\n          var anotherElement = document.createElement(\"div\");\r\n          var next=document.createElement('br');\r\n          newElement.innerHTML = data.message;\r\n          newElement.style.border='solid 0px pink';\r\n          newElement.style.backgroundColor='pink';\r\n          newElement.style.padding='10px';\r\n          newElement.style.minWidth='50px';\r\n          newElement.style.maxWidth='500px';\r\n          newElement.style.wordBreak='break-all'\r\n          newElement.style.borderRadius='20px';\r\n          newElement.style.display='block';\r\n          newElement.style.cssFloat='right';\r\n          newElement.style.clear='right';\r\n          anotherElement.style.marginTop='17px'\r\n          anotherElement.style.padding='15px';\r\n          anotherElement.appendChild(newElement);\r\n          anotherElement.appendChild(next);\r\n          out.appendChild(anotherElement);\r\n          if(isScrolledToBottom)\r\n          out.scrollTop = out.scrollHeight - out.clientHeight;\r\n          }\r\n        else{\r\n        console.log('inside inside',this.state.socketid);\r\n        console.log(out.scrollHeight,out.clientHeight,out.scrollTop);\r\n        var isScrolledToBottom = out.scrollHeight - out.clientHeight <= out.scrollTop + 1;\r\n        console.log(out.scrollHeight - out.clientHeight,  out.scrollTop + 1);\r\n        var newElement = document.createElement(\"div\");\r\n        var anotherElement = document.createElement(\"div\");\r\n        var next=document.createElement('br');\r\n        newElement.innerHTML = data.message ;\r\n        newElement.style.border='solid 0px white';\r\n        newElement.style.backgroundColor='white';\r\n        newElement.style.padding='10px';\r\n        newElement.style.minWidth='50px';\r\n        newElement.style.maxWidth='500px';\r\n        newElement.style.wordBreak='break-all';\r\n        newElement.style.borderRadius='20px';\r\n        newElement.style.display='block';\r\n        newElement.style.cssFloat='left';\r\n        newElement.style.clear='left';\r\n        anotherElement.style.marginTop='17px';\r\n        anotherElement.style.padding='15px';\r\n        anotherElement.appendChild(newElement);\r\n        anotherElement.appendChild(next);\r\n        out.appendChild(anotherElement);\r\n        if(isScrolledToBottom)\r\n        out.scrollTop = out.scrollHeight - out.clientHeight;\r\n        }          \r\n        }); \r\n        socket.on('leaveroomtoo',()=>{\r\n        var text=document.getElementById('comment');\r\n        text.setAttribute('disabled',true);\r\n        var buton=document.getElementById('btn1');\r\n        buton.setAttribute('disabled',true);\r\n\r\n        var cancel=document.getElementById('leave');\r\n        cancel.setAttribute('disabled', true);\r\n        var video=document.getElementById('video');\r\n        video.setAttribute('disabled',true);\r\n      \r\n        var search=document.getElementById('search');\r\n        search.removeAttribute('disabled',true);\r\n\r\n        var maindis=document.getElementById('mainMess');\r\n        var disconnect=document.getElementById('strangerDisconnect');\r\n        var div=document.createElement('div');\r\n        div.setAttribute('id','disconnectTextWarn');\r\n        var disconnectText=document.createElement('P');\r\n        disconnectText.innerText='You are disconnected!';\r\n        div.style.display='flex';\r\n        div.style.justifyContent='center';\r\n        disconnectText.style.fontSize='x-large';\r\n        disconnectText.style.opacity='0.8'\r\n        disconnectText.style.color='white';\r\n        disconnectText.style.fontStyle='italic'\r\n        disconnectText.style.textShadow='2px 2px 4px #000000'\r\n        div.appendChild(disconnectText);\r\n        disconnect.appendChild(div);\r\n        maindis.appendChild(disconnect);\r\n\r\n        const room=this.state.room;\r\n        const opponent=this.state.opponent;\r\n        socket.emit('leaveroom',{room,opponent});\r\n        });\r\n        socket\r\n        .on('request', ({ from: callFrom }) => {\r\n          console.log(\"call window activate\");\r\n          this.setState({ callModal: 'active', callFrom });\r\n          \r\n          // var hideHead=document.getElementById('frontHead');\r\n          // var hideMessage=document.getElementById('frontMessage');\r\n          // hideHead.style.visibility='hidden';\r\n          // hideMessage.style.visibility='hidden';\r\n        })\r\n        .on('call', (data) => {\r\n          console.log(\"i received data\");\r\n          if (data.sdp) {\r\n            console.log(\"ab\");\r\n            this.pc.setRemoteDescription(data.sdp);\r\n            if (data.sdp.type === 'offer') this.pc.createAnswer();\r\n          } else \r\n          {\r\n            console.log(\"abc\");\r\n            this.pc.addIceCandidate(data.candidate);\r\n          \r\n          }\r\n          })\r\n        .on('end', this.endCall.bind(this, false))\r\n\r\n    });\r\n    this.setState({socket});\r\n    }\r\n\r\n    startCall(isCaller, friendID,config,myID) {\r\n    // var hideHead=document.getElementById('frontHead');\r\n    // var hideMessage=document.getElementById('frontMessage');\r\n    // hideHead.style.visibility='hidden';\r\n    // hideMessage.style.visibility='hidden';\r\n    \r\n    //for videocall image\r\n    // var mainMess=document.getElementById('mainMess');\r\n    // var vidDiv=document.getElementById('videoWindow');\r\n    // var imag=document.createElement('img');\r\n    // imag.src=signalImage;\r\n    // vidDiv.appendChild(imag);\r\n    // mainMess.appendChild(vidDiv); \r\n    //end\r\n\r\n        console.log('i am inside startCall');\r\n        console.log(friendID)\r\n        console.log(myID)\r\n        console.log(\"start call\");\r\n        this.config = config;\r\n        this.pc = new PeerConnection(friendID,myID)\r\n          .on('localStream', (src) => {\r\n            console.log('localstream');\r\n            const newState = { callWindow: 'active', localSrc: src };\r\n            if (!isCaller) newState.callModal = '';\r\n            this.setState(newState);\r\n          })\r\n          .on('peerStream', (src) => {\r\n          console.log(\"peerstream added\");\r\n            this.setState({ peerSrc: src })\r\n          \r\n          }\r\n            )\r\n        .start(isCaller, config);\r\n      }\r\n    \r\n      rejectCall() {\r\n        const { callFrom } = this.state;\r\n        const {socket}=this.state;\r\n        socket.emit('end', { to: callFrom });\r\n        this.setState({ callModal: '' });\r\n\r\n        // var showHead=document.getElementById('frontHead');\r\n        // var showMessage=document.getElementById('frontMessage');\r\n        // showHead.style.visibility='visible';\r\n        // showMessage.style.visibility='visible';\r\n        \r\n\r\n      }\r\n    \r\n      endCall(isStarter) {\r\n        if (_.isFunction(this.pc.stop)) {\r\n        this.pc.stop(isStarter);\r\n      }\r\n    // var showHead=document.getElementById('frontHead');\r\n    // var showMessage=document.getElementById('frontMessage');\r\n    // showHead.style.visibility='visible';\r\n    // showMessage.style.visibility='visible';\r\n    \r\n      this.pc = {};\r\n        this.config = null;\r\n        this.setState({\r\n          callWindow: '',\r\n          callModal: '',\r\n          localSrc: null,\r\n          peerSrc: null\r\n        });\r\n      }\r\n    \r\n    render() {\r\n    const { callFrom, callModal, callWindow, localSrc, peerSrc} = this.state;\r\n    const {socket}=this.state;\r\n    console.log(this.state.socket)\r\n    return (\r\n    <div className='wholeContent'>\r\n    {/* <div id='forModal'> */}\r\n    <div className='row head' id='frontHead'>\r\n    <div className='col-8 col-md-10' >\r\n    <FrontHeader \r\n    socket={socket} \r\n    opponent={this.state.opponent} \r\n    room={this.state.room} \r\n    socketid={this.state.socketid} \r\n    sex={this.state.sex}\r\n    endCall={this.endCallHandler}/>\r\n  \r\n    </div>\r\n    <div className='mainwindow col-4 col-md-2'>\r\n    <MainWindow\r\n    clientId={this.state.socketid}\r\n    opponent={this.state.opponent}\r\n    startCall={this.startCallHandler}\r\n    />\r\n    </div>\r\n    </div>\r\n   {/* creating row for the message and viceocall */}\r\n  <div className='row mymess '>\r\n  <div className='col-xs-12 col-lg-4 ' id='videoWindow'>\r\n    {!_.isEmpty(this.config) && (\r\n      <VideocallScreen\r\n        status={callWindow}\r\n        localSrc={localSrc}\r\n        peerSrc={peerSrc}\r\n        config={this.config}\r\n        mediaDevice={this.pc.mediaDevice}\r\n        endCall={this.endCallHandler}\r\n      />\r\n    )}\r\n    <hr  className='videoSeperate'></hr>\r\n    </div>\r\n   <div id='frontMessage'\r\n   className='col-xs-12 col-lg-8 '>\r\n    <Messaging socket={socket} message={this.state.message} opponent={this.state.opponent}/>   \r\n   </div>\r\n    </div>\r\n    <CallingRequest\r\n      status={callModal}\r\n      startCall={this.startCallHandler}\r\n      rejectCall={this.rejectCallHandler}\r\n      callFrom={callFrom}\r\n    />\r\n    </div>\r\n    );\r\n    }\r\n  }\r\nexport default Layout;\r\n\r\n","import React, { useState, useEffect, useRef } from 'react';\nimport classnames from 'classnames';\n\nfunction VideoCallPublic({ peerSrc, localSrc, config, mediaDevice, status, endCall ,sex}) {\n  const peerVideo = useRef(null);\n  const localVideo = useRef(null);\n  const [video, setVideo] = useState(config.video);\n  const [audio, setAudio] = useState(config.audio);\n\n  useEffect(() => {\n    console.log('i am here peer');\n    if(!peerSrc){\n      var peervideo=document.getElementById('peerVideo');\n      peervideo.style.backgroundColor='rgb(192,192,192,0.3)';\n    }\n    if (peerVideo.current && peerSrc) \n    {\n    console.log(peerVideo.current);\n    console.log('peer true');\n    peerVideo.current.srcObject = peerSrc;\n    }\n    if (localVideo.current && localSrc) \n    {\n      console.log(localVideo.current);\n      console.log('peeer true');\n      localVideo.current.srcObject = localSrc;\n    }\n    });\n\n  useEffect(() => {\n    if (mediaDevice) {\n      mediaDevice.toggle('Video', video);\n      mediaDevice.toggle('Audio', audio);\n    }\n  });\n\n  /**\n   * \n   * @param {String} deviceType - Type of the device eg: Video, Audio\n   */\n  const toggleMediaDevice = (deviceType) => {\n    if (deviceType === 'video') {\n      setVideo(!video);\n      mediaDevice.toggle('Video');\n    }\n    if (deviceType === 'audio') {\n      setAudio(!audio);\n      mediaDevice.toggle('Audio');\n    }\n  };\n  \n  return (\n    <div className={classnames('call-window', status)}>\n        <video id=\"localVideo\" className='videocall' ref={localVideo} autoPlay />\n        <video id=\"peerVideo\" className='videocall' ref={peerVideo} autoPlay /> \n    </div>\n  );\n};\n\nexport default VideoCallPublic;\n","import React from 'react'\nimport openSocket from 'socket.io-client';\nimport FrontHeader from './header';\nimport Messaging from './messagingPortion';\nimport '../videocall/css/main-window.css';\nimport '../videocall/css/callingRequest.css';\nimport '../videocall/css/videocallScreen.css'\nimport _ from 'lodash';\nimport '../../css/style.css';\nimport PeerConnection from '../videocall/js/PeerConnection';\nimport VideoCallPublic from '../videocall/js/videoCallPublic'\nclass Public extends React.Component {\n    constructor(props){\n    super(props);\n    this.state={\n      socket:null,\n      opponent:'abc',\n      room:'',\n      socketid:'',\n      sex:'',\n      callWindow: '',\n      callModal: '',\n      callFrom: '',\n      localSrc: null,\n      peerSrc: null,\n      message:'message'\n    };\n    this.pc = {};\n    this.config = null;\n    this.startCallHandler = this.startCall.bind(this);\n    this.endCallHandler = this.endCall.bind(this);\n    }\n    componentDidMount(){\n        this.initSocket();\n        if(window.performance){\n          console.log('here window is working');\n        }\n        if (performance.navigation.type == 1) {\n          console.info( \"This page is reloaded\" );\n          window.location.href='/'\n        } else {\n          console.info( \"This page is not reloaded\");\n      }\n    }\n    \n    initSocket=()=>{\n      const socket=openSocket(\"/\");\n      \n      var cancel=document.getElementById('leave');\n      cancel.setAttribute('disabled', true);\n      \n      var search=document.getElementById('search');\n      search.setAttribute('disabled',true);\n      \n     \n\n      socket.on('connect',()=>{\n      var text=document.getElementById('comment');\n      text.setAttribute('disabled',true);\n      var buton=document.getElementById('btn1');\n      buton.setAttribute('disabled',true);\n\n        console.log(\"connection made\");\n        socket.on('socketid',(data)=>{\n        console.log(\"myid\");\n        console.log(data);\n        this.setState({socketid:data});\n        this.setState({sex:this.props.gender});\n        const socketid=this.state.socketid;\n        const sex=this.state.sex\n        socket.emit('mydetails',{socketid,sex}); \n    });\n    socket.on('opponentdetails',(data)=>{\n        this.setState({opponent:data});\n        console.log(this.state.opponent);\n     \n    });\n    socket.on('forVideocall',(data)=>{\n        if(data){\n            var friendID=this.state.opponent;\n            var myID=this.state.socketid\n            const config = { audio: true, video:true };\n            this.startCall(true, friendID, config,myID)\n        }\n    })\n        socket.on('roomid',(data)=>{\n          var text=document.getElementById('comment');\n          text.removeAttribute('disabled',true);\n         \n          var buton=document.getElementById('btn1');\n          buton.removeAttribute('disabled',true);\n\n          var cancel=document.getElementById('leave');\n          cancel.removeAttribute('disabled', true);\n          \n          // var search=document.getElementById('search');\n          // search.removeAttribute('disabled',true);\n          \n          \n          \n          document.getElementById('forImage').remove();\n          document.getElementById('connectText').remove();\n          this.setState({room:data});\n          var socketid=this.state.socketid;\n          var opponent=this.state.opponent;\n          const room=this.state.room;\n          socket.emit('room',{room,opponent});\n        });\n       \n\n        socket.on('typing',function(mess){\n          let timer = setTimeout(makeNoTypingState, 1000);\n          var feedback=document.getElementById('feedback');\n          var random=mess;\n            feedback.innerHTML='<p><em>'+random+'<p><em>';\n            clearTimeout(timer);\n            timer = setTimeout(makeNoTypingState, 500);\n        });\n        function makeNoTypingState() {\n          var feedback=document.getElementById('feedback');\n          feedback.innerHTML = \"\";\n         }  \n\n        socket.on('receiverMessage', (data)=>{\n        var out = document.getElementById(\"scrollable\");\n          console.log(data.message);\n          console.log(data.opponent);\n          //for left right combination\n          if(data.opponent==this.state.socketid){\n          console.log('inside',this.state.socketid);\n          console.log(out.scrollHeight,out.clientHeight,out.scrollTop);\n          var isScrolledToBottom = out.scrollHeight - out.clientHeight <= out.scrollTop + 1;\n          console.log(out.scrollHeight - out.clientHeight,  out.scrollTop + 1);\n          var newElement = document.createElement(\"div\");\n          var anotherElement = document.createElement(\"div\");\n          var next=document.createElement('br');\n          newElement.innerHTML = data.message;\n          newElement.style.border='solid 0px pink';\n          newElement.style.backgroundColor='pink';\n          newElement.style.padding='10px';\n          newElement.style.minWidth='50px';\n          newElement.style.maxWidth='500px';\n          newElement.style.wordBreak='break-all'\n          newElement.style.borderRadius='20px';\n          newElement.style.display='block';\n          newElement.style.cssFloat='right';\n          newElement.style.clear='right';\n          anotherElement.style.marginTop='17px'\n          anotherElement.style.padding='15px';\n          anotherElement.appendChild(newElement);\n          anotherElement.appendChild(next);\n          out.appendChild(anotherElement);\n          if(isScrolledToBottom)\n          out.scrollTop = out.scrollHeight - out.clientHeight;\n          }\n        else{\n        console.log('inside inside',this.state.socketid);\n        console.log(out.scrollHeight,out.clientHeight,out.scrollTop);\n        var isScrolledToBottom = out.scrollHeight - out.clientHeight <= out.scrollTop + 1;\n        console.log(out.scrollHeight - out.clientHeight,  out.scrollTop + 1);\n        var newElement = document.createElement(\"div\");\n        var anotherElement = document.createElement(\"div\");\n        var next=document.createElement('br');\n        newElement.innerHTML = data.message ;\n        newElement.style.border='solid 0px white';\n        newElement.style.backgroundColor='white';\n        newElement.style.padding='10px';\n        newElement.style.minWidth='50px';\n        newElement.style.maxWidth='500px';\n        newElement.style.wordBreak='break-all';\n        newElement.style.borderRadius='20px';\n        newElement.style.display='block';\n        newElement.style.cssFloat='left';\n        newElement.style.clear='left';\n        anotherElement.style.marginTop='17px';\n        anotherElement.style.padding='15px';\n        anotherElement.appendChild(newElement);\n        anotherElement.appendChild(next);\n        out.appendChild(anotherElement);\n        if(isScrolledToBottom)\n        out.scrollTop = out.scrollHeight - out.clientHeight;\n        }          \n        }); \n        socket.on('leaveroomtoo',()=>{\n        var text=document.getElementById('comment');\n        text.setAttribute('disabled',true);\n        var buton=document.getElementById('btn1');\n        buton.setAttribute('disabled',true);\n\n        var cancel=document.getElementById('leave');\n        cancel.setAttribute('disabled', true);\n\n        var search=document.getElementById('search');\n        search.removeAttribute('disabled',true);\n\n        var maindis=document.getElementById('mainMess');\n        var disconnect=document.getElementById('strangerDisconnect');\n        var div=document.createElement('div');\n        div.setAttribute('id','disconnectTextWarn');\n        var disconnectText=document.createElement('P');\n        disconnectText.innerText='You are disconnected!';\n        div.style.display='flex';\n        div.style.justifyContent='center';\n        disconnectText.style.fontSize='xx-large';\n        disconnectText.style.opacity='0.8'\n        disconnectText.style.color='white';\n        disconnectText.style.fontStyle='italic'\n        disconnectText.style.textShadow='2px 2px 4px #000000'\n        div.appendChild(disconnectText);\n        disconnect.appendChild(div);\n        maindis.appendChild(disconnect);\n\n        const room=this.state.room;\n        const opponent=this.state.opponent;\n        socket.emit('leaveroom',{room,opponent});\n        });\n        socket\n        .on('request', ({ from: callFrom }) => {\n          console.log(\"call window activate\");\n          this.setState({ callModal: 'active', callFrom });\n            const config = { audio: true, video:true };\n            var callfrom=this.state.callFrom;\n            console.log(callFrom)\n            this.startCall(false,callfrom,config);\n        })\n        .on('call', (data) => {\n          console.log(\"i received data\");\n          if (data.sdp) {\n            console.log(\"ab\");\n            this.pc.setRemoteDescription(data.sdp);\n            if (data.sdp.type === 'offer') this.pc.createAnswer();\n          } else \n          {\n            console.log(\"abc\");\n            this.pc.addIceCandidate(data.candidate);\n          \n          }\n          })\n        .on('end', this.endCall.bind(this, false))\n\n    });\n    this.setState({socket});\n    }\n\n    startCall(isCaller, friendID,config,myID) {\n        console.log('i am inside startCall');\n        console.log(friendID)\n        console.log(myID)\n        console.log(\"start call\");\n        this.config = config;\n        this.pc = new PeerConnection(friendID,myID)\n          .on('localStream', (src) => {\n            console.log('localstream');\n            const newState = { callWindow: 'active', localSrc: src };\n            if (!isCaller) newState.callModal = '';\n            this.setState(newState);\n          })\n          .on('peerStream', (src) => {\n          console.log(\"peerstream added\");\n            this.setState({ peerSrc: src })\n          \n          }\n            )\n        .start(isCaller, config);\n      }\n    \n      endCall(isStarter) {\n        if (_.isFunction(this.pc.stop)) {\n        this.pc.stop(isStarter);\n      }\n    // var showHead=document.getElementById('frontHead');\n    // var showMessage=document.getElementById('frontMessage');\n    // showHead.style.visibility='visible';\n    // showMessage.style.visibility='visible';\n    \n      this.pc = {};\n        this.config = null;\n        this.setState({\n          callWindow: '',\n          callModal: '',\n          localSrc: null,\n          peerSrc: null\n        });\n      }\n    \n    render() {\n    const {  callWindow, localSrc, peerSrc} = this.state;\n    const {socket}=this.state;\n    console.log(this.state.socket)\n\n    return (\n    <div className='wholeContent'>\n    {/* <div id='forModal'> */}\n    <div className='row head' id='frontHead'>\n    <div className='col-10 col-md-10' >\n    <FrontHeader \n    socket={socket} \n    opponent={this.state.opponent} \n    room={this.state.room} \n    socketid={this.state.socketid} \n    sex={this.state.sex}\n    endCall={this.endCallHandler}/>\n    </div>\n    <div className='mainwindow col-2 col-md-2'>\n\n    </div>\n    </div>\n   {/* creating row for the message and viceocall */}\n  <div className='row mymess'>\n  <div className='col-xs-12 col-lg-4 ' id='videoWindow'>\n    {!_.isEmpty(this.config) && (\n      <VideoCallPublic\n        status={callWindow}\n        localSrc={localSrc}\n        peerSrc={peerSrc}\n        config={this.config}\n        mediaDevice={this.pc.mediaDevice}\n      />\n    ) }\n    <hr  className='videoSeperate'></hr>\n    </div>\n\n   <div id='frontMessage'\n   className='col-xs-12 col-lg-8 '>\n    <Messaging socket={socket} message={this.state.message} opponent={this.state.opponent}/>   \n   </div>\n    </div>\n  \n    </div>\n    );\n    }\n  }\nexport default Public;\n\n","import React,{useState} from 'react';\r\nimport {Switch,Route,useLocation} from 'react-router-dom';\r\nimport {Link} from 'react-router-dom'\r\nimport Layout from './front/layout'\r\nimport frontLappyImage from '../components/images/notebook.jpg'\r\nimport {Button} from 'reactstrap';\r\nimport Public from './front/public'\r\nexport default function Main(){\r\n\r\n   function Middleportion(){\r\n    const submitMale=(event)=>{\r\n    const buttonValue=document.getElementById('maleButton').value;\r\n    console.log(buttonValue);\r\n    setGender(buttonValue);\r\n      }\r\n    const submitFemale=(event)=>{\r\n      const buttonValue=document.getElementById('femaleButton').value;\r\n      setGender(buttonValue);\r\n    }\r\n\r\n    const submitPublic=(event)=>{\r\n      const buttonValue=document.getElementById('publicButton').value;\r\n      setGender(buttonValue);\r\n    }\r\n\r\n    return(\r\n    <div className='frontContainer' >\r\n      <div className='frontPageHeader'>\r\n      \r\n      </div>\r\n    <div className=' backgroundMainDiv row'>\r\n    {/*  for mobile phone */}\r\n    <div className='col-xs-12 offset-1 leftMainDivMobile d-block d-sm-none' \r\n    style={{\r\n      height:'70vh',\r\n      width:'100vw',\r\n    }}\r\n    >\r\n    <div className='col-xs-12 headYourGenderMobile mt-5'>\r\n      <p className='paraYourGenderMobile  ml-3'>Whats Your Gender?</p>\r\n    </div>\r\n    <div className=\"row genderDiv offset-3 \">\r\n      <div className='col-xs-5'>\r\n          <Link to='/layout'><button type='button' className=\" butn-actionMobile fa fa-mars fa-2x   \" id=\"maleButton\" value=\"male\" onClick={submitMale}></button></Link>\r\n        </div>\r\n      <div className='col-xs-5'>\r\n      <Link to='/layout'><button type='button' className=\" butn-actionMobile fa fa-venus fa-2x ml-5\"  id=\"femaleButton\" value=\"female\" onClick={submitFemale}></button></Link>\r\n      </div>\r\n      <div className='col-xs-5  textGenderDiv' id='maleText'>\r\n          <p className='pl-2 paraGender '> Male</p>\r\n        </div>\r\n      <div className='col-xs-5 textGenderDiv offset-1'>\r\n        <p className='pl-5 paraGender '>Female</p>\r\n      </div>\r\n    </div>\r\n\r\n    <div className='col-12 YourGenderLeftBottomMobile mt-5'>\r\n        <p className='paraYourGenderLeftBottomMobile ' >Find people nearby you by entering into the Public chat</p>\r\n    </div> \r\n    <div className='divPublicButtonMobile'>   \r\n      <Link to='/public'><Button  id=\"publicButton\" color='danger' size='lg' value=\"public\" onClick={submitPublic}>Public Chat</Button></Link>\r\n    </div>\r\n    </div>\r\n   \r\n    {/*  for mobile phone */}\r\n    <div className='col-xs-12 ml-5 col-md-3 leftMainDiv d-none d-sm-block'>\r\n      <div className='col-12 headYourGender'>\r\n        <p className='paraYourGenderLeft' >Public Chat!</p>\r\n    </div> \r\n    \r\n    <div className='divPublicButton'>   \r\n      <Link to='/public'><Button  id=\"publicButton\" color='danger' size='lg' value=\"public\" onClick={submitPublic}>Public Chat</Button></Link>\r\n    </div>\r\n    <div className='col-12 '>\r\n        <p className='paraYourGenderLeftBottom mt-5' >Click on the button to enter into public chat</p>\r\n    </div> \r\n    </div>\r\n            \r\n    <div className='col-xs-12 ml-5 mt-1 col-md-7 mainGenDiv d-none d-sm-block'\r\n      style={{\r\n        background: `url('${frontLappyImage}') no-repeat`,\r\n        backgroundSize:'cover',\r\n        boxShadow:'0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)'\r\n      }}\r\n    >\r\n  <div className='row'>\r\n      <div className='col-md-12 headYourGender mt-5'>\r\n        <p className='paraYourGender' >Private Chat!</p>\r\n      </div>\r\n      <div className='col-md-12 headYourGender'>\r\n        <p className='paraYourGender' >Whats Your Gender?</p>\r\n      </div>\r\n      <div className=\"row genderDiv offset-1 \">\r\n        <div className='col-md-5'>\r\n          <Link to='/layout'><button type='button' className=\" butn-action fa fa-mars fa-4x  mt-1 \" id=\"maleButton\" value=\"male\" onClick={submitMale}></button></Link>\r\n        </div>\r\n        <div className='col-md-5'>\r\n          <Link to='/layout'><button type='button' className=\" butn-action fa fa-venus fa-4x ml-5 mt-1\"  id=\"femaleButton\" value=\"female\" onClick={submitFemale}></button></Link>\r\n        </div>\r\n        <div className='col-md-5  textGenderDiv' id='maleText'>\r\n          <p className='pr-4 paraGender '> Male</p>\r\n        </div>\r\n      <div className='col-md-5 textGenderDiv offset-1'>\r\n        <p className='pl-3 paraGender '>Female</p>\r\n      </div>\r\n    </div>\r\n  </div> \r\n  </div>\r\n  </div>\r\n  <div className='lowerDivMobile d-block d-sm-none'>\r\n     <p className='footParaMobile'>XYZ is a fun random match making website where  you will pair up with completely random person from anywhere. Its one of the cool way to met new strangers around you. To keep your privacy protective xyz never share any of your details to anyone. You can make a private chat with stranger after you connected to the stranger you can text or even video call with the stranger and you can stop a chat at any time just by clicking on the cancel button you can again search for the stranger just by clicking on the next button. In private chat you can videocall by sending videocall request and can even accept or reject stranger videocall request. In private chat a random male is connected with a random female.The Public feature of XYZ randomly matches you with any gender from anywhere around you.The people matches with you is completely random so be nice with people. XYZ donot encourage nudity, sexually harass anyone, publicize other peoples, sharing private information, doing illegal activities. Be carefull from scammers, exploiters.  </p>\r\n  </div>  \r\n <div className='row lowerDiv d-none d-sm-block'>\r\n <div className='col-md-12'>\r\n   <p className='footPara'>XYZ is a fun random match making website where  you will pair up with completely random person from anywhere. Its one of the cool way to met new strangers around you. To keep your privacy protective xyz never share any of your details to anyone. You can make a private chat with stranger after you connected to the stranger you can text or even video call with the stranger and you can stop a chat at any time just by clicking on the cancel button you can again search for the stranger just by clicking on the next button. In private chat you can videocall by sending videocall request and can even accept or reject stranger videocall request. In private chat a random male is connected with a random female. </p>\r\n   <p className='footPara'>The Public feature of XYZ randomly matches you with any gender from anywhere around you.The people matches with you is completely random so be nice with people. XYZ donot encourage nudity, sexually harass anyone, publicize other peoples, sharing private information, doing illegal activities. Be carefull from scammers, exploiters. </p>\r\n </div>\r\n </div>\r\n </div>\r\n  );\r\n  }\r\n\r\nconst [gender,setGender]=useState('');\r\nlet location = useLocation();\r\nlet background=location.state && location.state.background;\r\nreturn (  \r\n<div>\r\n  <Switch location={background || location}>\r\n  <Route exact path='/' children={<Middleportion/>}/>\r\n  <Route path='/layout' children={<Layout gender={gender}/>}/>\r\n  \r\n  <Route path='/public' children={<Public gender={gender}/>}/>\r\n  </Switch>\r\n</div>\r\n  );\r\n} ","import React,{Component} from 'react';\nimport './App.css'\nimport Main from './components/mainComponent';\nimport {BrowserRouter as Router} from 'react-router-dom';\n\n\nclass App extends React.Component {\nrender(){\nreturn (  \n<Router>\n<Main/>\n</Router>  \n);\n}\n}\nexport default App;\n  \n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'font-awesome/css/font-awesome.min.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n","module.exports = __webpack_public_path__ + \"static/media/support.7daebf03.png\";","module.exports = __webpack_public_path__ + \"static/media/notebook.e9721755.jpg\";"],"sourceRoot":""}